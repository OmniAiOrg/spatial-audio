{"version":3,"sources":["js/ios_access.js"],"names":["iOS","includes","navigator","platform","userAgent","document","getAccel","DeviceMotionEvent","requestPermission","then","response","window","addEventListener","event","rotation_degrees","alpha","frontToBack_degrees","beta","leftToRight_degrees","gamma","ios_access","querySelector","innerHTML","accessGrant","getElementById"],"mappings":";AAAA,SAASA,IACA,MAAA,CACH,iBACA,mBACA,iBACA,OACA,SACA,QACAC,SAASC,UAAUC,WAEjBD,UAAUE,UAAUH,SAAS,QAAU,eAAgBI,SAG/D,SAASC,IACPC,kBAAkBC,oBACfC,KAAKC,IACc,WAAZA,GACFC,OAAOC,iBAAiB,oBAAsBC,IAE1CC,iBAAmBD,EAAME,MACzBC,oBAAsBH,EAAMI,KAC5BC,oBAAsBL,EAAMM,UAQ1C,GAAInB,IAAO,CACLoB,IAAAA,EAAaf,SAASgB,cAAc,eACxCD,EAAWE,WAAa,kPAIpBC,IAAAA,EAAclB,SAASmB,eAAe,oBAC1CD,EAAYX,iBAAkB,QAASN,GAAU","file":"ios_access.40521fbd.js","sourceRoot":"..","sourcesContent":["function iOS() {\n  return [\n      'iPad Simulator',\n      'iPhone Simulator',\n      'iPod Simulator',\n      'iPad',\n      'iPhone',\n      'iPod'\n    ].includes(navigator.platform)\n    // iPad on iOS 13 detection\n    || (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document)\n}\n\nfunction getAccel() {\n  DeviceMotionEvent.requestPermission()\n    .then(response => {\n        if (response == 'granted') {\n          window.addEventListener('deviceorientation', (event) => {\n              // Expose each orientation angle in a more readable way\n              rotation_degrees = event.alpha;\n              frontToBack_degrees = event.beta;\n              leftToRight_degrees = event.gamma;\n            }\n          )\n        }\n      }\n    )\n}\n\nif (iOS()) {\n  var ios_access = document.querySelector('.ios_access');\n  ios_access.innerHTML += 'For <b>iOS</b> user, please grant access first:</p>' +\n    '<button id=\"accelPermsButton\">Allow access to gyroscope</button></p>' +\n    '<div>Please use <b>Chrome/Firefox</b> in <b>iOS</b> devices, becasue <b>Safari</b> is not fully supported.</div>' +\n    '</p></p>';\n  var accessGrant = document.getElementById(\"accelPermsButton\");\n  accessGrant.addEventListener (\"click\", getAccel, false);\n}\n"]}