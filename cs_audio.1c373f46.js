parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"EMKo":[function(require,module,exports) {
"use strict";function e(e,t){let r="";for(let o of e.values())r+=o+"\t";r+="\n";for(let o of t.values())r+=Number(o).toFixed(2)+"\t";return r+="\n"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.print=e;
},{}],"cOSg":[function(require,module,exports) {
"use strict";var e=require("./helper.js");const t=window.AudioContext||window.webkitAudioContext;let n,a,l,i,o,r,s,u,c,d,f=[l,i,o,r,s,u,c,d],p=new CustomEvent("music",{detail:""});function v(e){n=new t;(a=n.listener).positionX?(a.positionX.value=0,a.positionY.value=0,a.positionZ.value=0):a.setPosition(0,0,0),a.forwardX?(a.forwardX.value=0,a.forwardY.value=0,a.forwardZ.value=-1,a.upX.value=0,a.upY.value=1,a.upZ.value=0):a.setOrientation(0,0,-1,0,1,0);const l="HRTF",i=40,o=50,r=1,s="linear",u=2e4,c=1,d=.9,v=0,y=0,g=0,w=0,h=0,b=1;function m(e){return new PannerNode(n,{panningModel:l,distanceModel:s,positionX:v+e[0],positionY:y+e[1],positionZ:g+e[2],orientationX:w,orientationY:h,orientationZ:b,refDistance:c,maxDistance:u,rolloffFactor:d,coneInnerAngle:i,coneOuterAngle:o,coneOuterGain:r})}window.addEventListener("build",function(e){document.querySelector(".info");let t=e.point_up,n=e.point_forward;a.forwardX.value=n[0],a.forwardY.value=n[1],a.forwardZ.value=n[2],a.upX.value=t[0],a.upY.value=t[1],a.upZ.value=t[2]});const L=n.createMediaElementSource(C),k=new ChannelSplitterNode(n,{numberOfOutputs:8});L.connect(k);for(let t of e){let e=t[0],a=t[1],l=t[2],i=t[3];f[i]=n.createAnalyser();const o=n.createGain();o.gain.value=l,e.addEventListener("click",function(){0===o.gain.value?(e.children[0].classList.remove("slash"),o.gain.value=1):(e.children[0].classList.add("slash"),o.gain.value=0)},!1),k.connect(o,i).connect(f[i]).connect(m(a)).connect(n.destination)}setInterval(function(){let t=new Uint8Array(f[0].frequencyBinCount),n=[null,null,null,null,null,null,null,null];for(let a=0;a<f.length;a++){f[a].getByteTimeDomainData(t);let l=128;for(let e of t)e>l&&(l=e);l=Math.max(0,l-128),n[a]=l,e[a][0].style.backgroundColor="rgb("+Math.min(255,20*-l+224)+", 225, "+Math.min(255,10*l+226)+")"}((e,t)=>{for(let n=0;n<8;n++)if(e[n]!==t[n])return!1;return!0})(n,p.maxValues)||(p.maxValues=n,window.dispatchEvent(p))},50)}function y(e,t){if(n||v(P),"suspended"===n.state&&n.resume(),"false"===e.dataset.playing){t.play();e.dataset.playing="true",g("startPlay").style.backgroundColor="rgb(54,146,220)"}else"true"===e.dataset.playing&&(t.pause(),e.dataset.playing="false",g("startPlay").style.backgroundColor="rgb(225,226,226)");let a="true"===e.getAttribute("aria-checked");e.setAttribute("aria-checked",a?"false":"true")}p.maxValues=[0,0,0,0,0,0,0,0];const g=e=>document.getElementById(e),w=[g("b1"),[-5,0,-5],1,0],h=[g("b2"),[5,0,-5],1,1],b=[g("b3"),[0,0,-5],1,2],m=[g("b4"),[0,0,0],0,3],L=[g("b5"),[-5,0,5],1,4],k=[g("b6"),[5,0,5],1,5],A=[g("b7"),[-5,0,0],1,6],E=[g("b8"),[5,0,0],1,7],P=[w,h,b,m,L,k,A,E];let C,X=g("startPlay");function x(e){(C=g(e)).replaceWith(C.cloneNode(!0)),C=g(e),X.addEventListener("click",function(){y(this,C)},!1)}function Y(){let e=g("startPlay");"true"===e.dataset.playing&&(C.pause(),e.dataset.playing="false",g("startPlay").style.backgroundColor="rgb(225,226,226)")}x("channels7"),g("audio1").addEventListener("click",function(){Y();const e=this.dataset.aim;n=null,X.replaceWith(X.cloneNode(!0)),X=g("startPlay"),x(e),g("AllowLocalFile").style.display="none"}),g("audio2").addEventListener("click",function(){Y();const e=this.dataset.aim;n=null,X.replaceWith(X.cloneNode(!0)),X=g("startPlay"),x(e),g("AllowLocalFile").style.display="none"}),g("audioLocal").addEventListener("click",function(){Y(),g("AllowLocalFile").style.display="block"}),g("inputFile").addEventListener("change",function(){Y();var e=this.files;if(e.length>0){n=null,X.replaceWith(X.cloneNode(!0)),X=g("startPlay");let t=window.URL.createObjectURL(e[0]);g("aimLocalAudio").src=t,C=g("aimLocalAudio"),X.addEventListener("click",function(){y(this,C)},!1)}},!1);
},{"./helper.js":"EMKo"}]},{},["cOSg"], null)
//# sourceMappingURL=/cs_audio.1c373f46.js.map