{"version":3,"sources":["js/orientation.js"],"names":["indicator","document","querySelector","garden","output","info","arrow","doeSupported","getElementById","maxX","clientWidth","maxY","clientHeight","arrow_width","z_flag","z_prev","handleOrientation","event","x","beta","y","gamma","z","alpha","textContent","Number","toFixed","style","left","top","transform","window","DeviceOrientationEvent","innerText","addEventListener"],"mappings":";AAAA,MAAMA,EAAYC,SAASC,cAAc,cACnCC,EAASF,SAASC,cAAc,WAChCE,EAASH,SAASC,cAAc,WAChCG,EAAOJ,SAASC,cAAc,SAC9BI,EAAQL,SAASC,cAAc,UAC/BK,EAAeN,SAASO,eAAe,gBAEvCC,EAAON,EAAOO,YAAcV,EAAUU,YACtCC,EAAOR,EAAOS,aAAeZ,EAAUY,aACvCC,EAAcP,EAAMI,YAE1B,IAAII,EAAS,EACTC,EAAS,EACb,SAASC,EAAkBC,GACrBC,IAAAA,GAAKD,EAAME,KACXC,GAAKH,EAAMI,MACXC,EAAIL,EAAMM,MAEdnB,EAAOoB,YAAyBC,UAAAA,OAAAA,OAAOH,GAAGI,QAAQ,GAAlD,MACAtB,EAAOoB,aAAyBC,UAAAA,OAAAA,OAAOP,GAAGQ,QAAQ,GAAlD,MACAtB,EAAOoB,aAAyBC,UAAAA,OAAAA,OAAOL,GAAGM,QAAQ,GAPlB,MAW5BR,EAAK,KAAMA,EAAK,IAChBA,GAAK,KAAMA,GAAK,IAIhBJ,EAAS,GACXA,IACAC,EAASO,GAETA,GAAQP,EAEVG,GAAK,GACLE,GAAK,GAILpB,EAAU2B,MAAMC,KAASjB,EAAKS,EAAE,IAAM,GAAM,KAC5CpB,EAAU2B,MAAME,IAAOpB,EAAKS,EAAE,IAAM,GAAM,KAC1ClB,EAAU2B,MAAMG,UAAY,UAAUR,EAAE,OAGtCS,OAAOC,wBACTzB,EAAa0B,UAAY,6BACzBF,OAAOG,iBAAiB,oBAAqBlB,GAAmB,IAEhET,EAAa0B,UAAY","file":"orientation.0224711c.js","sourceRoot":"..","sourcesContent":["const indicator = document.querySelector('.indicator');\nconst garden = document.querySelector('.garden');\nconst output = document.querySelector('.output');\nconst info = document.querySelector('.info');\nconst arrow = document.querySelector('.arrow');\nconst doeSupported = document.getElementById(\"doeSupported\");\n\nconst maxX = garden.clientWidth - indicator.clientWidth;\nconst maxY = garden.clientHeight - indicator.clientHeight;\nconst arrow_width = arrow.clientWidth;\n// console.log(\"arrow\"+arrow_width);\nlet z_flag = 3;\nlet z_prev = 0;\nfunction handleOrientation(event) {\n  let x = -event.beta;  // In degree in the range [-180,180)\n  let y = -event.gamma; // In degree in the range [-90,90)\n  let z = event.alpha;\n\n  output.textContent  = `alpha: ${Number(z).toFixed(2)}\\n`;\n  output.textContent += `beta : ${Number(x).toFixed(2)}\\n`;\n  output.textContent += `gamma: ${Number(y).toFixed(2)}\\n`;\n\n  // Because we don't want to have the device upside down\n  // We constrain the x value to the range [-90,90]\n  if (x >  90) { x =  90}\n  if (x < -90) { x = -90}\n\n  // To make computation easier we shift the range of\n  // x and y to [0,180]\n  if (z_flag > 0) {\n    z_flag --;\n    z_prev = z;\n  } else {\n    z = z - z_prev;\n  }\n  x += 90;\n  y += 90;\n\n  // 10 is half the size of the ball\n  // It center the positioning point to the center of the ball\n  indicator.style.left  = (maxY*y/180 - 10) + \"px\";\n  indicator.style.top = (maxX*x/180 - 10) + \"px\";\n  indicator.style.transform = \"rotate(\"+z+\"deg)\";\n}\n\nif (window.DeviceOrientationEvent) {\n  doeSupported.innerText = \"✅ gyroscopes is supported!\";\n  window.addEventListener('deviceorientation', handleOrientation, true);\n} else {\n  doeSupported.innerText = \"❌ Browser Not Supported!\\nPlease try Firefox Browser in Android phone.\";\n}\n\n\n"]}